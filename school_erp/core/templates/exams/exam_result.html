{% extends "base/layout.html" %}
{% load core_extras %}
{% block content %}

<h2 class="text-xl font-semibold mb-4">
    {{ exam.name }} â€“ Result
</h2>

<a href="{% url 'core:exam_result_print' exam.id class_id section_id %}"
   target="_blank"
   class="btn btn-secondary mb-4">
    Print Result
</a>


<table class="table-auto w-full border">
<thead class="bg-gray-200">
<tr>
    <th>Roll</th>
    <th>Name</th>
    {% for subject in subjects %}
        <th>{{ subject.name }}</th>
    {% endfor %}
</tr>
</thead>

<tbody>
{% for student_id, data in results.items %}
<tr>
    <td>{{ forloop.counter }}</td>
    <td>{{ data.student_name }}</td>

    {% for subject in subjects %}
        <td>{{ data.marks|get_item:subject.name|default:"-" }}</td>
    {% endfor %}
</tr>
{% endfor %}
</tbody>
</table>

{% endblock %}
