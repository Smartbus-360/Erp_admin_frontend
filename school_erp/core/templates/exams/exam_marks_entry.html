{% extends "base/layout.html" %}
{% load core_extras %}

{% block content %}

<h2 class="text-xl font-semibold mb-4">
    {{ exam.name }} â€“ {{ subject.name }}
</h2>

<form method="post">
{% csrf_token %}

<input type="hidden" name="exam_id" value="{{ exam.id }}">
<input type="hidden" name="subject_id" value="{{ subject.id }}">
<input type="hidden" name="class_id" value="{{ class.id }}">
<input type="hidden" name="section_id" value="{{ section.id }}">

<table class="table-auto w-full border">
<thead class="bg-gray-100">
<tr>
    <th class="p-2">Roll No</th>
    <th class="p-2">Student Name</th>
    <th class="p-2">Marks</th>
</tr>
</thead>

<tbody>
{% for student in students %}
<tr>
    <td class="p-2">{{ student.roll_no }}</td>
    <td class="p-2">{{ student.name }}</td>
    <td class="p-2">
        <input type="number"
               name="marks_{{ student.id }}"
               value="{{ existing_marks|get_item:student.id }}"
               class="form-control"
               min="0">
    </td>
</tr>
{% endfor %}
</tbody>
</table>

<div class="mt-4 text-right">
    <button class="btn btn-success">Save / Update Marks</button>
</div>

</form>

{% endblock %}
